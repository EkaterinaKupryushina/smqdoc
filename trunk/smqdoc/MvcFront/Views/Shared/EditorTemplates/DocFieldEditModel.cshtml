@using MvcFront.Enums
@using Telerik.Web.Mvc.UI
@model MvcFront.Models.DocFieldEditModel
@{
    @Html.HiddenFor(x => x.FieldId)
    @Html.HiddenFor(x => x.FieldType)
    @Html.HiddenFor(x => x.IsRestricted)
    switch ((FieldTemplateType)Model.FieldType)
    {
        case FieldTemplateType.Bool:
            if (Model.IsReadOnly)
            {
                @Html.HiddenFor(x => x.BoolValue)
                if (Model.BoolValue)
                {
                    <text>ДА</text>
                }
                else
                {
                    <text>Нет</text> 
                }
            }
            else
            {
                @Html.RadioButtonFor(x => x.BoolValue, true) <text>ДА</text>
                @Html.RadioButtonFor(x => x.BoolValue, false)<text>Нет</text>  
            }
            break;
        case FieldTemplateType.Number:
            if (Model.IsReadOnly)
            {
                
               if(Model.IsInteger)
               {
                   @Html.HiddenFor(x => x.IntegerValue)
                   @Html.DisplayFor(x => x.IntegerValue)
               }
               else
               {
                   @Html.HiddenFor(x => x.DoubleValue)
                   @Html.DisplayFor(x => x.DoubleValue)
               }
            }
            else
            {
                if (Model.IsInteger)
                {
                        @(Model.IsRestricted
                            ? (Html.Telerik().IntegerTextBoxFor(x => x.IntegerValue).MaxValue((int)Model.MaxVal).MinValue((int)Model.MinVal).EmptyMessage("Введите целое"))
                            : (Html.Telerik().IntegerTextBoxFor(x => x.IntegerValue).EmptyMessage("Введите целое")))
                }
                else
                {
                        @(Model.IsRestricted
                            ? (Html.Telerik().NumericTextBoxFor(x => x.DoubleValue).DecimalSeparator(",").NumberGroupSeparator("").NumberGroupSize(0).MaxValue(Model.MaxVal).MinValue(Model.MinVal).EmptyMessage("Введите число"))
                            : (Html.Telerik().NumericTextBoxFor(x => x.DoubleValue).DecimalSeparator(",").NumberGroupSeparator("").NumberGroupSize(0).EmptyMessage("Введите число")))
                }
            }
            break;
        case FieldTemplateType.String:
            if (Model.IsReadOnly)
            {
                @Html.HiddenFor(x => x.StringValue)
                @Html.DisplayFor(x => x.StringValue)
            }
            else
            {
                @Html.EditorFor(x => x.StringValue, new { @class = "stringfield" })
            }
            break;
        case FieldTemplateType.Calculated:
                @(Html.TextBox(Model.FieldId.ToString(), Model.DoubleValue, new Dictionary<string, object> { { "readonly", "true" } }))
                break;
        default:
                throw new ArgumentOutOfRangeException();
    }
}
